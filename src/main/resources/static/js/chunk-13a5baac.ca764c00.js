(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13a5baac"],{"270e":function(e,t,n){"use strict";n("fba6")},"71db":function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a");var c=n("7a23"),i=function(e){return Object(c["M"])("data-v-dfb9809a"),e=e(),Object(c["K"])(),e},r={class:"background"},a={class:"banner"},s={class:"main-user-box"},o=i((function(){return Object(c["n"])("img",{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"},null,-1)})),l={class:"main-user-info"},u={class:"article-time"},m={class:"main-other-info"},b={class:"like-view-box"},d={class:"like-box"},p=i((function(){return Object(c["n"])("svg",{class:"heart-svg",viewBox:"0 0 532 532"},[Object(c["n"])("path",{id:"heart",transform:"translate(10, 10)",d:"M256,96.5l-19.7-20.3C186.1,24.3,104.5,15.9,49.7,62.6c-62.8,53.6-66.1,149.8-9.9,207.9l193.5,199.8 c12.5,12.9,32.8,12.9,45.3,0l193.5-199.8c56.3-58.1,53-154.3-9.8-207.9l0,0C407.5,15.9,326,24.3,275.7,76.2L256,96.5z"})],-1)})),O=i((function(){return Object(c["n"])("span",{class:"heart-outside"},null,-1)})),j={class:"main-like-num"},f={class:"view-box"},h=i((function(){return Object(c["n"])("svg",{class:"eye-svg",viewBox:"0 0 576 512"},[Object(c["n"])("path",{fill:"#eee",d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"})],-1)})),g={class:"main-view-num"},y={class:"article-box"},v={class:"article-content"},_={class:"images-list"},w={style:{margin:"0px 120px 0px 120px"}},x={class:"post-comment-box"},k={class:"input-comment-box"},q={class:"my-user-box"},C=i((function(){return Object(c["n"])("img",{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"},null,-1)})),S={class:"input-button-box"},$=Object(c["p"])("发表评论"),z={class:"comment-list"},W={class:"comment-user-box"},U=i((function(){return Object(c["n"])("img",{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"},null,-1)})),E={class:"comment-time"},J={class:"comment-content"},A={class:"reply-info-box"},L={class:"comment-svg-box"},M=["onClick"],V=i((function(){return Object(c["n"])("path",{fill:"#909399",d:"M144 208c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm112 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zm112 0c-17.7 0-32 14.3-32 32s14.3 32 32 32 32-14.3 32-32-14.3-32-32-32zM256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"},null,-1)})),B=[V],H={class:"comment-reply-num"},I={class:"reply-button-box"},T=Object(c["p"])("回复"),Q={class:"reply-list"},R={class:"reply-user-box"},F=i((function(){return Object(c["n"])("img",{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"},null,-1)})),D={class:"reply-time"},K={class:"reply-content"};function P(e,t,n,i,V,P){var G=Object(c["S"])("el-avatar"),N=Object(c["S"])("el-link"),X=Object(c["S"])("el-tag"),Y=Object(c["S"])("el-skeleton-item"),Z=Object(c["S"])("el-skeleton"),ee=Object(c["S"])("el-image"),te=Object(c["S"])("el-divider"),ne=Object(c["S"])("el-input"),ce=Object(c["S"])("el-form-item"),ie=Object(c["S"])("el-form"),re=Object(c["S"])("el-button"),ae=Object(c["S"])("el-collapse-transition"),se=Object(c["S"])("el-backtop");return Object(c["J"])(),Object(c["m"])("div",r,[Object(c["n"])("div",a,[Object(c["n"])("h1",null,Object(c["W"])(V.description.title),1),Object(c["n"])("div",s,[Object(c["q"])(G,{class:"main-avatar",size:50,src:V.description.mainavatarUrl,onError:P.errorHandler},{default:Object(c["hb"])((function(){return[o]})),_:1},8,["src","onError"]),Object(c["n"])("div",l,[Object(c["q"])(N,{class:"main-username-link",type:"primary",underline:!1},{default:Object(c["hb"])((function(){return[Object(c["p"])(Object(c["W"])(V.description.username),1)]})),_:1}),Object(c["n"])("p",u,Object(c["W"])(V.description.sendtime),1)]),Object(c["n"])("div",m,[Object(c["n"])("div",null,[Object(c["q"])(X,{class:"child-tag",type:"info"},{default:Object(c["hb"])((function(){return[Object(c["p"])(Object(c["W"])(V.description.newstype),1)]})),_:1})]),Object(c["n"])("div",b,[Object(c["n"])("div",d,[Object(c["n"])("label",{class:"heart-label",onChange:t[1]||(t[1]=function(){return P.change_main_likenum&&P.change_main_likenum.apply(P,arguments)})},[Object(c["ib"])(Object(c["n"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=function(e){return V.description.main_checklike=e})},null,512),[[c["bb"],V.description.main_checklike]]),p,O],32),Object(c["n"])("p",j,Object(c["W"])(V.description.main_likenum),1)]),Object(c["n"])("div",f,[h,Object(c["n"])("p",g,Object(c["W"])(V.description.main_viewnum),1)])])])])]),Object(c["n"])("div",y,[Object(c["n"])("pre",v,Object(c["W"])(V.description.content),1),Object(c["ib"])(Object(c["n"])("div",_,[(Object(c["J"])(!0),Object(c["m"])(c["b"],null,Object(c["Q"])(V.imgList,(function(e,t){return Object(c["J"])(),Object(c["k"])(ee,{style:{width:"200px",height:"200px","margin-right":"20px","margin-bottom":"20px","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},key:t,src:e,fit:"cover","preview-src-list":V.imgList},{error:Object(c["hb"])((function(){return[Object(c["q"])(Z,{style:{width:"200px"}},{template:Object(c["hb"])((function(){return[Object(c["q"])(Y,{variant:"image",style:{width:"200px",height:"200px"}})]})),_:1})]})),placeholder:Object(c["hb"])((function(){return[Object(c["q"])(Z,{style:{width:"200px"},animated:""},{template:Object(c["hb"])((function(){return[Object(c["q"])(Y,{variant:"image",style:{width:"200px",height:"200px"}})]})),_:1})]})),_:2},1032,["src","preview-src-list"])})),128))],512),[[c["eb"],V.imgList.length>0]]),Object(c["n"])("div",w,[Object(c["q"])(te)])]),Object(c["n"])("div",x,[Object(c["n"])("div",k,[Object(c["q"])(ie,{model:V.myuser,rules:V.rules,ref:"myuser","label-width":"0","hide-required-asterisk":""},{default:Object(c["hb"])((function(){return[Object(c["q"])(ce,{label:"",prop:"comment_content"},{default:Object(c["hb"])((function(){return[Object(c["q"])(ne,{type:"textarea",autosize:{minRows:5},modelValue:V.myuser.comment_content,"onUpdate:modelValue":t[2]||(t[2]=function(e){return V.myuser.comment_content=e}),placeholder:"发表评论...",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])]),Object(c["n"])("div",q,[Object(c["q"])(G,{class:"my-avatar",size:40,src:V.myuser.myavatarUrl,onError:P.errorHandler},{default:Object(c["hb"])((function(){return[C]})),_:1},8,["src","onError"]),Object(c["q"])(N,{class:"my-username-link",type:"primary",underline:!1},{default:Object(c["hb"])((function(){return[Object(c["p"])(Object(c["W"])(V.myuser.username),1)]})),_:1}),Object(c["n"])("div",S,[Object(c["q"])(re,{type:"info",size:"medium",onClick:t[3]||(t[3]=function(e){return P.submitcomment("myuser")})},{default:Object(c["hb"])((function(){return[$]})),_:1})])])]),Object(c["n"])("div",z,[(Object(c["J"])(!0),Object(c["m"])(c["b"],null,Object(c["Q"])(V.comment,(function(e,t){return Object(c["J"])(),Object(c["m"])("div",{class:"comment-box",key:t},[Object(c["n"])("div",W,[Object(c["q"])(G,{class:"comment-avatar",size:40,src:e.headImage,onError:P.errorHandler},{default:Object(c["hb"])((function(){return[U]})),_:2},1032,["src","onError"]),Object(c["q"])(N,{class:"comment-username-link",type:"primary",underline:!1},{default:Object(c["hb"])((function(){return[Object(c["p"])(Object(c["W"])(e.username),1)]})),_:2},1024),Object(c["n"])("p",E,Object(c["W"])(e.commenttime),1)]),Object(c["n"])("pre",J,Object(c["W"])(e.content),1),Object(c["n"])("div",A,[Object(c["n"])("div",L,[(Object(c["J"])(),Object(c["m"])("svg",{class:"comment-svg",viewBox:"0 0 512 512",onClick:function(t){return e.showreply=!e.showreply}},B,8,M)),Object(c["n"])("p",H,Object(c["W"])(e.replynum),1)]),Object(c["n"])("div",I,[Object(c["q"])(re,{type:"info",size:"mini",onClick:function(t){return P.submitreply(e.commentid)}},{default:Object(c["hb"])((function(){return[T]})),_:2},1032,["onClick"])])]),Object(c["q"])(ae,null,{default:Object(c["hb"])((function(){return[Object(c["ib"])(Object(c["n"])("div",Q,[(Object(c["J"])(!0),Object(c["m"])(c["b"],null,Object(c["Q"])(e.replys,(function(e,t){return Object(c["ib"])((Object(c["J"])(),Object(c["m"])("div",{class:"reply-box",key:t},[Object(c["n"])("div",R,[Object(c["q"])(G,{class:"reply-avatar",size:30,src:e.headImage,onError:P.errorHandler},{default:Object(c["hb"])((function(){return[F]})),_:2},1032,["src","onError"]),Object(c["q"])(N,{class:"reply-username-link",type:"primary",underline:!1},{default:Object(c["hb"])((function(){return[Object(c["p"])(Object(c["W"])(e.username),1)]})),_:2},1024),Object(c["n"])("p",D,Object(c["W"])(e.commenttime),1)]),Object(c["n"])("pre",K,Object(c["W"])(e.content),1)])),[[c["eb"],0==e.targetid]])})),128))],512),[[c["eb"],e.replynum>0&&1==e.showreply]])]})),_:2},1024)])})),128))]),Object(c["q"])(se)])}var G=n("5530"),N=n("5502"),X={name:"ReadArticle",data:function(){return{description:{anonymousstate:!1,userid:1111111111,username:"",title:"",mainavatarUrl:"",newstype:"校园卡丢失",content:"",sendtime:"",main_viewnum:0,main_checklike:!1,main_likenum:0},imgList:[],myuser:{username:"",myavatarUrl:"",comment_content:""},comment:[{commentid:1,userid:1111111111,username:"",headImage:"",commenttime:"",content:"",replynum:2,showreply:!1,replys:[{replyid:1,targetid:0,commentid:1,userid:1111111111,username:"",headImage:"",commenttime:"",content:""}]}],rules:{content:[{required:!0,message:"请输入回复内容",trigger:"blur"},{min:5,max:200,message:"回复内容长度在 5 到 200 个字符",trigger:"blur"}]}}},methods:{errorHandler:function(){return!0},submitcomment:function(e){var t=this;this.$refs[e].validate((function(n){if(!n)return t.$message({showClose:!0,message:"请正确填写评论",type:"error"}),!1;var c=t;t.$axios.post("/news/comment",{newsid:c.article_id,content:c.myuser.comment_content}).then((function(n){console.log(n),t.$refs[e].resetFields(),200==n.data.code?(t.$message({showClose:!0,message:n.data.msg,type:"success"}),c.dialogFormVisible=!1,t.getArticle()):t.$message({showClose:!0,message:n.data.msg,type:"error"})}))}))},submitreply:function(e){var t=this;this.$prompt("","回复",{inputType:"textarea",inputPlaceholder:"发表回复...",confirmButtonText:"确定",cancelButtonText:"取消",inputValidator:function(e){return e?e.length<5||e.length>200?"回复内容长度在 5 到 200 个字符":void 0:"回复内容不能为空"},inputErrorMessage:"回复内容长度在 5 到 200 个字符"}).then((function(n){var c=n.value;t.$axios.post("/news/reply",{commentid:e,content:c}).then((function(e){console.log(e),200==e.data.code?(t.$message({showClose:!0,message:e.data.msg,type:"success"}),t.getArticle()):t.$message({showClose:!0,message:e.data.msg,type:"error"})}))})).catch((function(){t.$message({type:"info",message:"取消输入"})}))},getArticle:function(){var e=this;this.myuser.username=this.currentUser.username,this.myuser.myavatarUrl=this.currentUser.headimage,this.$axios.get("/news/view?newsid="+this.article_id).then((function(t){console.log(t),e.description.anonymousstate=t.data.data.anonymousstate,e.description.userid=t.data.data.userid,e.description.username=t.data.data.username,e.description.mainavatarUrl=t.data.data.headimage,e.description.title=t.data.data.newstitle,e.description.content=t.data.data.content,e.description.sendtime=t.data.data.sendtime,e.description.main_viewnum=t.data.data.viewnum,e.description.main_checklike=t.data.data.isLike,e.description.main_likenum=t.data.data.likenum,e.description.newstype=t.data.data.newstypename,e.imgList=t.data.data.imgUrls,e.comment=t.data.data.comments,console.log(e.comment)})).catch((function(){console.log("失败")}))},change_main_likenum:function(){var e=this,t=0;this.$axios.get("/news/likenews?newsid="+this.article_id).then((function(n){console.log("点赞测试"),console.log(n),e.description.main_likenum=n.data.data[0],t=n.data.data[1],e.description.main_checklike=0!=t})).catch((function(){console.log("失败")}))}},created:function(){console.log("CREATED"),console.log(this.article_id,this.article_type,this.article_userid),this.getArticle()},computed:Object(G["a"])(Object(G["a"])({},Object(N["b"])(["currentUser","isAuthenticated"])),{},{article_type:function(){return this.$route.query.article_type},article_userid:function(){return this.$route.query.article_userid},article_id:function(){return this.$route.query.article_id}})},Y=(n("270e"),n("6b0d")),Z=n.n(Y);const ee=Z()(X,[["render",P],["__scopeId","data-v-dfb9809a"]]);t["default"]=ee},e01a:function(e,t,n){"use strict";var c=n("23e7"),i=n("83ab"),r=n("da84"),a=n("e330"),s=n("1a2d"),o=n("1626"),l=n("3a9b"),u=n("577e"),m=n("9bf2").f,b=n("e893"),d=r.Symbol,p=d&&d.prototype;if(i&&o(d)&&(!("description"in p)||void 0!==d().description)){var O={},j=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(p,this)?new d(e):void 0===e?d():d(e);return""===e&&(O[t]=!0),t};b(j,d),j.prototype=p,p.constructor=j;var f="Symbol(test)"==String(d("test")),h=a(p.toString),g=a(p.valueOf),y=/^Symbol\((.*)\)[^)]+$/,v=a("".replace),_=a("".slice);m(p,"description",{configurable:!0,get:function(){var e=g(this),t=h(e);if(s(O,e))return"";var n=f?_(t,7,-1):v(t,y,"$1");return""===n?void 0:n}}),c({global:!0,forced:!0},{Symbol:j})}},fba6:function(e,t,n){}}]);
//# sourceMappingURL=chunk-13a5baac.ca764c00.js.map