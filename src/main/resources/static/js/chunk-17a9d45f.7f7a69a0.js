(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17a9d45f"],{"11f6":function(t,e,i){"use strict";i("7df5")},"71db":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"background"},[i("div",{staticClass:"banner"},[i("h1",[t._v(t._s(t.description.title))]),i("div",{staticClass:"main-user-box"},[i("el-avatar",{staticClass:"main-avatar",attrs:{size:40,src:t.description.mainavatarUrl},on:{error:t.errorHandler}},[i("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]),i("div",{staticClass:"main-user-info"},[i("el-link",{staticClass:"main-username-link",attrs:{type:"primary",underline:!1},on:{click:t.gotoArticleEdit}},[t._v(t._s(t.description.username))]),i("p",{staticClass:"article-time"},[t._v(t._s(t.description.sendtime))])],1),i("el-tag",{staticClass:"main-tag",on:{click:t.gotoArticleEdit}},[t._v(t._s(t.article_type))]),i("el-tag",{directives:[{name:"show",rawName:"v-show",value:"帖子"==t.article_type,expression:"article_type == '帖子'"}],staticClass:"child-tag",attrs:{type:"success"}},[t._v(t._s(t.description.newstype))]),i("el-tag",{directives:[{name:"show",rawName:"v-show",value:"话题"==t.article_type,expression:"article_type == '话题'"}],staticClass:"child-tag",attrs:{type:"warning"}},[t._v(t._s(t.description.subjecttype))])],1)]),i("div",{staticClass:"article-box"},[i("p",{staticClass:"article-content"},[t._v(t._s(t.description.content))]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length>0,expression:"imgList.length > 0"}],staticClass:"images-list"},t._l(t.imgList,(function(e,a){return i("el-image",{key:a,staticStyle:{width:"250px",height:"250px","margin-right":"20px","margin-bottom":"20px","box-shadow":"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"},attrs:{src:e,fit:"cover","preview-src-list":t.imgList}},[i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("el-skeleton",{staticStyle:{width:"250px"}},[i("template",{slot:"template"},[i("el-skeleton-item",{staticStyle:{width:"250px",height:"250px"},attrs:{variant:"image"}})],1)],2)],1),i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("el-skeleton",{staticStyle:{width:"250px"},attrs:{animated:""}},[i("template",{slot:"template"},[i("el-skeleton-item",{staticStyle:{width:"250px",height:"250px"},attrs:{variant:"image"}})],1)],2)],1)])})),1),i("div",{staticClass:"like-box"},[i("label",{staticClass:"heart-label",on:{change:t.change_main_likenum}},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.description.main_checklike,expression:"description.main_checklike"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.description.main_checklike)?t._i(t.description.main_checklike,null)>-1:t.description.main_checklike},on:{change:function(e){var i=t.description.main_checklike,a=e.target,s=!!a.checked;if(Array.isArray(i)){var n=null,c=t._i(i,n);a.checked?c<0&&t.$set(t.description,"main_checklike",i.concat([n])):c>-1&&t.$set(t.description,"main_checklike",i.slice(0,c).concat(i.slice(c+1)))}else t.$set(t.description,"main_checklike",s)}}}),i("svg",{staticClass:"heart-svg",attrs:{viewBox:"0 0 532 532"}},[i("path",{attrs:{id:"heart",transform:"translate(10, 10)",d:"M256,96.5l-19.7-20.3C186.1,24.3,104.5,15.9,49.7,62.6c-62.8,53.6-66.1,149.8-9.9,207.9l193.5,199.8 c12.5,12.9,32.8,12.9,45.3,0l193.5-199.8c56.3-58.1,53-154.3-9.8-207.9l0,0C407.5,15.9,326,24.3,275.7,76.2L256,96.5z"}})]),i("span",{staticClass:"heart-outside"})]),i("p",{staticClass:"main-like-num"},[t._v(t._s(t.description.main_likenum))])]),i("div",{staticStyle:{margin:"0px 50px 0px 50px"}},[i("el-divider")],1)]),i("div",{staticClass:"post-comment-box"},[i("div",{staticClass:"input-comment-box"},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:5},placeholder:"发表评论...",maxlength:"1000","show-word-limit":""},model:{value:t.myuser.content,callback:function(e){t.$set(t.myuser,"content",e)},expression:"myuser.content"}})],1),i("div",{staticClass:"my-user-box"},[i("el-avatar",{staticClass:"my-avatar",attrs:{size:40,src:t.myuser.myavatarUrl},on:{error:t.errorHandler}},[i("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]),i("el-link",{staticClass:"my-username-link",attrs:{type:"primary",underline:!1},on:{click:t.gotoArticleEdit}},[t._v(t._s(t.myuser.username))]),i("div",{staticClass:"input-button-box"},[i("el-button",{attrs:{type:"info"},on:{click:t.submitcomment}},[t._v("发表评论")])],1)],1)]),i("div",{staticClass:"comment-list"},t._l(t.comment,(function(e,a){return i("div",{key:a,staticClass:"comment-box"},[i("p",{staticClass:"comment-content"},[t._v(t._s(e.content))]),i("div",{staticClass:"comment-user-box"},[i("el-avatar",{staticClass:"comment-avatar",attrs:{size:40,src:e.avatarUrl},on:{error:t.errorHandler}},[i("img",{attrs:{src:"https://cube.elemecdn.com/e/fd/0fc7d20532fdaf769a25683617711png.png"}})]),i("div",{staticClass:"comment-user-info"},[i("el-link",{staticClass:"comment-username-link",attrs:{type:"primary",underline:!1},on:{click:t.gotoArticleEdit}},[t._v(t._s(e.username))]),i("p",{staticClass:"comment-time"},[t._v(t._s(e.sendtime))])],1),i("div",{staticClass:"comment-like-box"},[i("label",{staticClass:"heart-label",on:{change:function(e){return t.change_comment_likenum(a)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.comment_checklike,expression:"item.comment_checklike"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.comment_checklike)?t._i(e.comment_checklike,null)>-1:e.comment_checklike},on:{change:function(i){var a=e.comment_checklike,s=i.target,n=!!s.checked;if(Array.isArray(a)){var c=null,r=t._i(a,c);s.checked?r<0&&t.$set(e,"comment_checklike",a.concat([c])):r>-1&&t.$set(e,"comment_checklike",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(e,"comment_checklike",n)}}}),i("svg",{staticClass:"heart-svg",attrs:{viewBox:"0 0 532 532"}},[i("path",{attrs:{id:"commentheart",transform:"translate(10, 10)",d:"M256,96.5l-19.7-20.3C186.1,24.3,104.5,15.9,49.7,62.6c-62.8,53.6-66.1,149.8-9.9,207.9l193.5,199.8 c12.5,12.9,32.8,12.9,45.3,0l193.5-199.8c56.3-58.1,53-154.3-9.8-207.9l0,0C407.5,15.9,326,24.3,275.7,76.2L256,96.5z"}})]),i("span",{staticClass:"heart-outside"})]),i("p",{staticClass:"comment-like-num"},[t._v(t._s(e.comment_likenum))])])],1)])})),0),i("el-backtop")],1)},s=[],n=i("5530"),c=(i("a4d3"),i("e01a"),i("2f62")),r={name:"ReadArticle",data:function(){return{description:{anonymousstate:!1,userid:1111111111,username:"不存在用户",title:"",mainavatarUrl:"",type:"贴子",newstype:"校园卡丢失",subjecttype:"避雷",content:"",sendtime:"0000-00-00",viewnum:0,main_checklike:!1,main_likenum:0,topstate:!1,hotstate:!1},imgList:[],myuser:{userid:"",username:"",myavatarUrl:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",content:""},comment:[{userid:"2020000000",username:"firstuser",avatarUrl:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",content:"这是一条评论这是一条评论这是一条评论这是一条评论",sendtime:"2021-12-12",comment_checklike:!1,comment_likenum:10},{userid:"2021111111",username:"nextuser",avatarUrl:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",content:"第二条评论第二条评论第二条评论第二条评论第二条评论",sendtime:"2021-12-24",comment_checklike:!1,comment_likenum:20}]}},methods:{errorHandler:function(){return!0},submitcomment:function(){var t=this,e=this;this.myuser.content.length<20||this.myuser.content.length>1e3?this.$message({showClose:!0,message:"评论内容长度在 20 到 1000 个字符",type:"error"}):this.$axios.post("",{content:e.myuser.content}).then((function(e){t.myuser.content="",200==e.data.code?(t.$message({showClose:!0,message:e.data.msg,type:"success"}),t.$router.push({path:"/articleread"})):t.$message({showClose:!0,message:e.data.msg,type:"error"})}))},gotoArticleEdit:function(){this.$router.push({path:"/articleedit"})},getArticle:function(){var t=this;this.myuser.username=this.currentUser.username,this.description.type=this.article_type,"帖子"==this.description.type?this.$axios.get("/news/view?userid="+this.article_userid+"&newsid="+this.article_id).then((function(e){console.log(e),t.description.anonymousstate=e.data.data.anonymousstate,1==t.description.anonymousstate?(t.description.userid=0,t.description.username="匿名用户",t.description.mainavatarUrl=""):(t.description.userid=e.data.data.userid,t.description.username=e.data.data.username,t.description.mainavatarUrl=e.data.data.headimage),t.description.title=e.data.data.newstitle,t.description.content=e.data.data.content,t.description.sendtime=e.data.data.sendtime,t.description.viewnum=e.data.data.viewnum,t.description.main_likenum=e.data.data.likenum,t.description.newstype=e.data.data.newstypename,t.description.topstate=e.data.data.topstate,t.description.hotstate=e.data.data.hotstate,t.imgList=e.data.data.imgUrls})).catch((function(){console.log("失败")})):this.$axios.get("/subject/view?userid="+this.article_userid+"&subjectid="+this.article_id).then((function(e){console.log(e),t.description.anonymousstate=e.data.data.anonymousstate,1==t.description.anonymousstate?(t.description.userid=0,t.description.username="匿名用户",t.description.mainavatarUrl=""):(t.description.userid=e.data.data.userid,t.description.username=e.data.data.username,t.description.mainavatarUrl=e.data.data.headimage),t.description.title=e.data.data.subjecttitle,t.description.content=e.data.data.content,t.description.sendtime=e.data.data.sendtime,t.description.viewnum=e.data.data.viewnum,t.description.main_likenum=e.data.data.likenum,t.description.subjecttype=e.data.data.subjecttypename,t.description.topstate=e.data.data.topstate,t.description.hotstate=e.data.data.hotstate,t.imgList=e.data.data.imgUrls})).catch((function(){console.log("失败")}))},change_main_likenum:function(){this.description.main_checklike?this.description.main_likenum++:this.description.main_likenum--},change_comment_likenum:function(t){this.comment[t].comment_checklike?this.comment[t].comment_likenum++:this.comment[t].comment_likenum--}},created:function(){console.log("CREATED"),console.log(this.article_id,this.article_type,this.article_userid),this.getArticle()},computed:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["currentUser","isAuthenticated"])),{},{article_type:function(){return this.$route.query.article_type},article_userid:function(){return this.$route.query.article_userid},article_id:function(){return this.$route.query.article_id}})},o=r,l=(i("11f6"),i("2877")),m=Object(l["a"])(o,a,s,!1,null,"c126a654",null);e["default"]=m.exports},"7df5":function(t,e,i){},e01a:function(t,e,i){"use strict";var a=i("23e7"),s=i("83ab"),n=i("da84"),c=i("e330"),r=i("1a2d"),o=i("1626"),l=i("3a9b"),m=i("577e"),d=i("9bf2").f,u=i("e893"),p=n.Symbol,h=p&&p.prototype;if(s&&o(p)&&(!("description"in h)||void 0!==p().description)){var v={},k=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:m(arguments[0]),e=l(h,this)?new p(t):void 0===t?p():p(t);return""===t&&(v[e]=!0),e};u(k,p),k.prototype=h,h.constructor=k;var g="Symbol(test)"==String(p("test")),_=c(h.toString),y=c(h.valueOf),f=/^Symbol\((.*)\)[^)]+$/,b=c("".replace),w=c("".slice);d(h,"description",{configurable:!0,get:function(){var t=y(this),e=_(t);if(r(v,t))return"";var i=g?w(e,7,-1):b(e,f,"$1");return""===i?void 0:i}}),a({global:!0,forced:!0},{Symbol:k})}}}]);
//# sourceMappingURL=chunk-17a9d45f.7f7a69a0.js.map