(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b266a00e"],{"15b2":function(e,t,r){e.exports=r.p+"img/loginImage.1445456c.png"},a3a4:function(e,t,r){},a55b:function(e,t,r){"use strict";r.r(t);var o=r("7a23"),n=function(e){return Object(o["M"])("data-v-5e2a28cc"),e=e(),Object(o["K"])(),e},c={class:"login-page"},l={class:"login-contain"},a=["src"],i=["src"],s={class:"menu"},u=n((function(){return Object(o["n"])("p",{class:"icon-text"},"扫码打赏",-1)})),d=n((function(){return Object(o["n"])("svg",{t:"1639712321154",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11741",width:"40",height:"40"},[Object(o["n"])("path",{d:"M384 64H134.4c-51.2 0-89.6 41.6-89.6 89.6v227.2c0 51.2 41.6 89.6 89.6 89.6H384c51.2 0 89.6-41.6 89.6-89.6V153.6c0-48-38.4-89.6-89.6-89.6z m44.8 316.8c0 25.6-19.2 44.8-44.8 44.8H134.4c-25.6 0-44.8-19.2-44.8-44.8V153.6c0-25.6 19.2-44.8 44.8-44.8H384c25.6 0 44.8 19.2 44.8 44.8v227.2zM192 192h134.4v134.4H192V192z m185.6 352h-243.2c-48 0-86.4 38.4-86.4 89.6v220.8c0 48 38.4 89.6 86.4 89.6h243.2c48 0 86.4-38.4 86.4-89.6V633.6c3.2-51.2-38.4-89.6-86.4-89.6z m44.8 307.2c0 25.6-19.2 44.8-44.8 44.8h-243.2c-25.6 0-44.8-19.2-44.8-44.8v-220.8c0-25.6 19.2-44.8 44.8-44.8h243.2c25.6 0 44.8 19.2 44.8 44.8v220.8z m-230.4-182.4h131.2v131.2H192v-131.2z m441.6-198.4h249.6c51.2 0 89.6-41.6 89.6-89.6V153.6c0-51.2-41.6-89.6-89.6-89.6h-249.6c-51.2 0-89.6 41.6-89.6 89.6v227.2c0 51.2 41.6 89.6 89.6 89.6zM588.8 153.6c0-25.6 19.2-44.8 44.8-44.8h249.6c25.6 0 44.8 19.2 44.8 44.8v227.2c0 25.6-19.2 44.8-44.8 44.8h-249.6c-25.6 0-44.8-19.2-44.8-44.8V153.6z m112 38.4h134.4v134.4h-134.4V192z m-128 524.8h137.6c12.8 0 22.4-9.6 22.4-22.4V556.8c0-12.8-9.6-22.4-22.4-22.4h-137.6c-12.8 0-22.4 9.6-22.4 22.4v137.6c0 12.8 9.6 22.4 22.4 22.4z m313.6-153.6v38.4c0 12.8 12.8 25.6 25.6 25.6h38.4c12.8 0 25.6-12.8 25.6-25.6V563.2c0-12.8-12.8-25.6-25.6-25.6h-38.4c-12.8 0-25.6 9.6-25.6 25.6z m-304 380.8h48c12.8 0 22.4-9.6 22.4-22.4v-48c0-12.8-9.6-22.4-22.4-22.4h-48c-12.8 0-22.4 9.6-22.4 22.4V921.6c0 12.8 9.6 22.4 22.4 22.4z m361.6-240H844.8a28.68224 28.68224 0 0 0-28.8 28.8v44.8H768c-19.2 0-32 12.8-32 32V908.8c0 16 12.8 28.8 28.8 28.8l179.2 3.2c16 0 28.8-12.8 28.8-28.8v-179.2c0-16-12.8-28.8-28.8-28.8z",fill:"#8B8B8B","p-id":"11742"})],-1)})),m=[d];function b(e,t,r,n,d,b){var g=Object(o["S"])("el-tab-pane"),p=Object(o["S"])("el-tabs"),f=Object(o["S"])("login-box"),h=Object(o["S"])("register-box");return Object(o["J"])(),Object(o["m"])("div",c,[Object(o["n"])("div",l,[Object(o["n"])("img",{class:"img",src:d.img_url},null,8,a),Object(o["n"])("img",{class:"logo",src:d.logo_url},null,8,i),Object(o["n"])("div",s,[Object(o["q"])(p,{modelValue:d.activeName,"onUpdate:modelValue":t[0]||(t[0]=function(e){return d.activeName=e}),onTabClick:e.handleClick,class:"mytabs"},{default:Object(o["hb"])((function(){return[Object(o["q"])(g,{label:"登录",name:"login",style:{width:"100px"}}),Object(o["q"])(g,{label:"注册",name:"register"})]})),_:1},8,["modelValue","onTabClick"]),"login"==d.activeName?(Object(o["J"])(),Object(o["k"])(f,{key:0})):(Object(o["J"])(),Object(o["k"])(h,{key:1,onRegisterSuccess:t[1]||(t[1]=function(e){return d.activeName="login"})}))]),u,Object(o["n"])("div",{class:"icon",onMouseenter:t[2]||(t[2]=function(){return b.view&&b.view.apply(b,arguments)})},m,32)])])}var g={class:"login-box"},p=Object(o["p"])("忘记密码？"),f={class:"login-button"},h=Object(o["p"])("登录");function j(e,t,r,n,c,l){var a=Object(o["S"])("el-input"),i=Object(o["S"])("el-form-item"),s=Object(o["S"])("el-form"),u=Object(o["S"])("router-link"),d=Object(o["S"])("el-button");return Object(o["J"])(),Object(o["m"])("div",g,[Object(o["q"])(s,{model:c.loginForm,rules:c.rules,ref:"loginForm","label-position":"top",onKeyup:Object(o["jb"])(l.login,["enter"])},{default:Object(o["hb"])((function(){return[Object(o["q"])(i,{label:"账号：",prop:"account"},{default:Object(o["hb"])((function(){return[Object(o["q"])(a,{modelValue:c.loginForm.account,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.loginForm.account=e}),modelModifiers:{number:!0},placeholder:"请输入账号",maxlength:"10",size:"large"},null,8,["modelValue"])]})),_:1}),Object(o["q"])(i,{label:"密码：",prop:"password"},{default:Object(o["hb"])((function(){return[Object(o["q"])(a,{modelValue:c.loginForm.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.loginForm.password=e}),maxlength:"30",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules","onKeyup"]),Object(o["q"])(u,{to:{path:"/forgetpassword"},class:"forget-router-link"},{default:Object(o["hb"])((function(){return[p]})),_:1}),Object(o["n"])("div",f,[Object(o["q"])(d,{onClick:l.login,type:"primary"},{default:Object(o["hb"])((function(){return[h]})),_:1},8,["onClick"])])])}var O=r("7864"),v=r("6c33"),w={name:"LoginBox",data:function(){return{loginForm:{account:null,password:null},rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{type:"number",min:1e9,max:9999999999,message:"账号为 10 位数字",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}},methods:{login:function(){var e=this;console.log("登录"),this.FormIsCorrect.then((function(){e.$store.dispatch(v["b"],{userid:e.loginForm.account,password:e.loginForm.password}).then((function(){e.$router.push({path:"/"})})).catch((function(e){O["a"].error(e.msg)}))}))}},computed:{FormIsCorrect:function(){return this.$refs["loginForm"].validate()}}},F=r("6b0d"),V=r.n(F);const q=V()(w,[["render",j]]);var x=q,R={class:"register-box"},_=Object(o["p"])("注册");function S(e,t,r,n,c,l){var a=Object(o["S"])("el-input"),i=Object(o["S"])("el-form-item"),s=Object(o["S"])("el-button"),u=Object(o["S"])("el-form");return Object(o["J"])(),Object(o["m"])("div",R,[Object(o["q"])(u,{model:c.RegisterForm,rules:c.rules,ref:"RegisterForm","label-position":"top","label-width":"auto",onKeypress:Object(o["jb"])(l.register,["enter"])},{default:Object(o["hb"])((function(){return[Object(o["q"])(i,{label:"账号：",prop:"account"},{default:Object(o["hb"])((function(){return[Object(o["q"])(a,{modelValue:c.RegisterForm.account,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.RegisterForm.account=e}),modelModifiers:{number:!0},maxlength:"10",placeholder:"请输入账号"},null,8,["modelValue"])]})),_:1}),Object(o["q"])(i,{label:"密码：",prop:"password"},{default:Object(o["hb"])((function(){return[Object(o["q"])(a,{modelValue:c.RegisterForm.password,"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.RegisterForm.password=e}),maxlength:"20",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]})),_:1}),Object(o["q"])(i,{label:"确认密码：",prop:"confirmPassword"},{default:Object(o["hb"])((function(){return[Object(o["q"])(a,{modelValue:c.RegisterForm.confirmPassword,"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.RegisterForm.confirmPassword=e}),maxlength:"20",placeholder:"请再次输入密码","show-password":""},null,8,["modelValue"])]})),_:1}),Object(o["q"])(i,{label:"邮箱：",prop:"email"},{default:Object(o["hb"])((function(){return[Object(o["q"])(a,{modelValue:c.RegisterForm.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.RegisterForm.email=e}),maxlength:"30",placeholder:"请输入邮箱"},null,8,["modelValue"])]})),_:1}),Object(o["q"])(i,{label:"验证码：",prop:"code"},{default:Object(o["hb"])((function(){return[Object(o["q"])(a,{modelValue:c.RegisterForm.code,"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.RegisterForm.code=e}),maxlength:"6",placeholder:"请输入验证码"},{append:Object(o["hb"])((function(){return[Object(o["q"])(s,{onClick:l.getcode,disabled:c.buttonDisabled},{default:Object(o["hb"])((function(){return[Object(o["p"])(Object(o["W"])(l.buttonText),1)]})),_:1},8,["onClick","disabled"])]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules","onKeypress"]),Object(o["q"])(s,{onClick:l.register,type:"primary"},{default:Object(o["hb"])((function(){return[_]})),_:1},8,["onClick"])])}var k={name:"LoginBox",data:function(){var e=this,t=function(t,r,o){e.RegisterForm.password===r?o():o(new Error("两次密码不一致"))},r=function(t,r,o){1==e.errorcode?o("验证码错误"):o()};return{buttonDisabled:!1,timeToSend:null,RegisterForm:{account:null,password:null,confirmPassword:null,email:null,code:null},rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{type:"number",min:1e9,max:9999999999,message:"账号为 10 位数字",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/(?=.*[0-9])(?=.*[a-zA-Z]).{6,20}/,message:"密码中必须包含字母、数字，至少6个字符，最多20个字符。",trigger:"blur"}],confirmPassword:[{required:!0,validator:t,trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{required:!0,pattern:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,message:"请检查邮箱格式",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:6,max:6,message:"验证码为6位",trigger:"blur"},{validator:r,trigger:"blur"}]}}},methods:{register:function(){var e=this;this.$refs["RegisterForm"].validate().then((function(){var t={userid:e.RegisterForm.account,password:e.RegisterForm.password,email:e.RegisterForm.email,code:e.RegisterForm.code};e.$axios.post("/user/add",t).then((function(t){var r=t.data;200==r.code?(console.log("注册成功",r),e.$emit("registerSuccess"),O["a"].success("注册成功")):(console.log("注册失败",r),O["a"].error(r.msg))}))}))},getcode:function(){var e=this;this.$refs["RegisterForm"].validateField("email",(function(t){t||e.$axios.get("/user/sendcode?flag=noexist&to="+e.RegisterForm.email).then((function(t){var r=t.data;200==r.code?e.setTimer():O["a"].error(r.msg)}))}))},setTimer:function(){var e=this;this.buttonDisabled=!0,this.timeToSend=30;var t=setInterval((function(){1==e.timeToSend?(clearInterval(t),e.buttonDisabled=!1):e.timeToSend--}),1e3)},test:function(){this.errorcode=1,this.$refs["RegisterForm"].validateField("code")}},computed:{buttonText:function(){return this.buttonDisabled?this.timeToSend+"秒后重新发送":"点击发送验证码"}}};const z=V()(k,[["render",S]]);var y=z,T=r("15b2"),C=r.n(T),$=r("cf05"),B=r.n($),H={name:"TestLogin",components:{RegisterBox:y,LoginBox:x},data:function(){return{img_url:C.a,logo_url:B.a,activeName:"login",test:""}},methods:{view:function(){console.log("悬停")}}};r("b263");const U=V()(H,[["render",b],["__scopeId","data-v-5e2a28cc"]]);t["default"]=U},b263:function(e,t,r){"use strict";r("a3a4")}}]);
//# sourceMappingURL=chunk-b266a00e.7c611897.js.map